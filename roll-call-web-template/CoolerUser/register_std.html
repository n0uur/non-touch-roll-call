<!DOCTYPE html>
<html lang="th">

<head>
    <!-- meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>ลงทะเบียนผู้ใช้งาน</title>

    <!-- Fontfaces CSS-->
    <link href="vendor/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" media="all">
    <link href="https://fonts.googleapis.com/css?family=Kanit&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link href="vendor/animsition/animsition.min.css" rel="stylesheet" media="all">
    <link href="vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet" media="all">
    <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="vendor/slick/slick.css" rel="stylesheet" media="all">
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">
    <!-- File Upload -->
    <style>
    #upload_btn {
        padding: 10px;
        color: white;
        background-color: #4272d7;
        border-radius: 5px;
        cursor: pointer;
      }
      
      #upload_btn:hover {
        background-color: #3868cd;
      }
      
      #status_text {
        margin-left: 10px;
        color: #aaa;
      }
      /* Chrome, Safari, Edge, Opera */
      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
      }
      /* Firefox */
      input[type=number] {
      -moz-appearance:textfield;
      }
      </style>
</head>
<body class="animsition" style="font-family: 'Kanit', sans-serif;">
    <div class="page-wrapper">
        <div class="page-content--bge5">
            <div class="container">
                <div class="login-wrap">
                    <div class="login-content">
                        <div class="login-logo">
                            <a href="#">
                                <img src="images/icon/logo.png" alt="CoolestLogo">
                            </a>
                        </div>
                        <div class="login-form">
                            <form action="" method="post">
                                <div class="form-group">
                                    <label>รหัสนักศึกษา</label>
                                    <input class="au-input au-input--full" id="std_id" type="number" name="student_id" placeholder="รหัสนักศึกษา">
                                </div>
                                <div class="form-group">
                                    <label>ชื่อ</label>
                                    <input type="text" id="first" name="first_name" class="au-input au-input--full" placeholder="ชื่อ">
                                </div>
                                <div class="form-group">
                                    <label>นามสกุล</label>
                                    <input class="au-input au-input--full" type="text" id="last" name="last_name" placeholder="นามสกุล">
                                <div class="upload-group" style="padding-bottom: 2vw;padding-top: 2vw;">
                                    <input type="file" accept="image/*" data-type="image" id="std_img" hidden="hidden" />
                                    <button type="button" id="upload_btn">เลือกรูปภาพ</button>
                                    <span id="status_text">ยังไม่ได้เลือกรูปภาพ</span>
                                </div>
                                <!-- Button trigger sweetalert -->
                                <button type="button" class="au-btn au-btn--block au-btn--blue m-b-20" onclick="sweetal()">ลงทะเบียน</button>
                            </form>
                            <div class="register-link">
                                <p>
                                    มีบัญชีผู้ใช้งานอยู่แล้ว ?
                                    <a href="login.html">ลงชื่อเข้าใช้งาน</a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>

    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>

    <!-- Vendor JS -->
    <script src="vendor/slick/slick.min.js"></script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/animsition/animsition.min.js"></script>
    <script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <script src="vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="vendor/counter-up/jquery.counterup.min.js"></script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="vendor/select2/select2.min.js"></script>

    <!-- Sweet Alert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>

    <!-- Main JS -->
    <script src="js/main.js"></script>
    <!--Sweet Alert-->
    <script>
        // File Upload
        const realFileBtn = document.getElementById("std_img");
        const customBtn = document.getElementById("upload_btn");
        const customTxt = document.getElementById("status_text");
        customBtn.addEventListener("click", function() {
        realFileBtn.click();});
        realFileBtn.addEventListener("change", function() {
            if (realFileBtn.value) {
                customTxt.innerHTML = realFileBtn.value.match(
                /[\/\\]([\w\d\s\.\-\(\)]+)$/
                )[1];
            } else {
                customTxt.innerHTML = "No file chosen, yet.";
            }
            });
        function sweetal() {
            Swal.fire({
            title: 'ยืนยันการลงทะเบียน',
            text: "คุณแน่ใจแล้วใช่ไหม",
            type: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            cancelButtonText: 'ยกเลิก',
            confirmButtonText: 'ยืนยัน'
                }).then((result) => {
                    if (document.getElementById('status_text').innerHTML != "No file chosen, yet."
                    && document.getElementById('std_id').value != '' && document.getElementById('first').value != '' && document.getElementById('last').value != ''){
                    Swal.fire({
                        type: 'success',
                        title: 'สำเร็จ',
                        text: "การลงทะเบียนสำเร็จ",
                        confirmButtonText: 'ตกลง'
                        }).then((result) => {
                                location="login.html";
                            })}
                    else if (result.value) {
                      Swal.fire({
                        type: 'error',
                        title: 'เกิดข้อผิดพลาด',
                        text: 'การลงทะเบียนไม่สำเร็จ',
                        confirmButtonText: 'ตกลง'
                        })}
                        }
                    )}
    </script>
</body>

</html>
